(()=>{var e=1e4,t=document.querySelectorAll(".update-characters"),c=document.querySelector("#post-save"),o=document.querySelector("#lg-post-save");ClassicEditor.create(document.querySelector("#editor"),{ckfinder:{uploadUrl:appUrl+"/ckfinder/connector?command=QuickUpload&type=Images&responseType=json"},wordCount:{onUpdate:function(r){var n=r.characters>e,a=!n&&r.characters>8e3;t.forEach((function(t){t.textContent="".concat(r.characters," / ").concat(e),t.classList.toggle("characters-limit-close",a),t.classList.toggle("characters-limit-exceeded",n)})),c.toggleAttribute("disabled",n),o.toggleAttribute("disabled",n)}}}).then((function(e){window.editor=e})).catch((function(e){console.error(e.stack)}));var r=!1;document.getElementById("post-save").addEventListener("click",(function(){r=!0})),window.addEventListener("beforeunload",(function(e){r||(e.preventDefault(),e.returnValue="")}))})();